{% extends "layout-settings.html" %}

{% set active_page = "settings" %}
{% set active_settings = "general" %}

{% block title %} - {{_('General Settings')}}{% endblock %}

{% block settings %}
  <!-- Route: /settings/general -->
  <h3 style="text-align: right; padding-bottom: 1.3em;">{{_('General Settings')}}</h3>

  <form class="form-horizontal" method="post" action="/settings/general">
    <input type="hidden" name="form-name" value="General">
    {{formSettingsGeneral.csrf_token}}
    <div class="form-group">
      {{formSettingsGeneral.language.label(class_='col-sm-4 control-label')}}
      <div class="col-sm-8">
        <select class="form-control form-tooltip form-dropdown" data-placement="bottom" id="language" name="language" title="{{_('Selecting a language will override the web browser\'s language.')}}">
          <option value="">Browser Default</option>
          {% for each_language in languages %}
            <option value="{{each_language[0]}}"{% if misc.language == each_language[0] %} selected{% endif %}>{{each_language[1].decode('utf-8')}}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.forceHTTPS.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {%- if misc.force_https == true -%}
          {{formSettingsGeneral.forceHTTPS(checked=True)}}
        {%- else -%}
          {{formSettingsGeneral.forceHTTPS()}}
        {%- endif -%}
        &nbsp;&nbsp;{{_('Check to force all web connections to use SSL (port 443) for greater security.')}}
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.hideAlertSuccess.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {%- if misc.hide_alert_success == true -%}
          {{formSettingsGeneral.hideAlertSuccess(checked=True)}}
        {%- else -%}
          {{formSettingsGeneral.hideAlertSuccess()}}
        {%- endif -%}
        &nbsp;&nbsp;{{_('Check to prevent Success alert messages from appearing at the top of the page.')}}
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.hideAlertInfo.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {%- if misc.hide_alert_info == true -%}
          {{formSettingsGeneral.hideAlertInfo(checked=True)}}
        {%- else -%}
          {{formSettingsGeneral.hideAlertInfo()}}
        {%- endif -%}
        &nbsp;&nbsp;{{_('Check to prevent Info alert messages from appearing at the top of the page.')}}
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.hideAlertWarning.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {%- if misc.hide_alert_warning == true -%}
          {{formSettingsGeneral.hideAlertWarning(checked=True)}}
        {%- else -%}
          {{formSettingsGeneral.hideAlertWarning()}}
        {%- endif -%}
        {{_('Check to prevent Warning alert messages from appearing at the top of the page.')}}
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.stats_opt_out.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {%- if misc.stats_opt_out == true -%}
          {{formSettingsGeneral.stats_opt_out(checked=True)}}
        {%- else -%}
          {{formSettingsGeneral.stats_opt_out()}}
        {%- endif -%}
        &nbsp;&nbsp;{{_('Check if you do not wish to send anonymous usage statistics.')}} <a href="/admin/statistics">{{_('View collected statistics')}}</a>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-4"></div>
      <div class="col-sm-8">
        <h3>{{_('Relay Usage Options')}}</h3>
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.relayStatsVolts.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {{formSettingsGeneral.relayStatsVolts(class_='form-control', value=misc.relay_stats_volts)}}
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.relayStatsCost.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {{formSettingsGeneral.relayStatsCost(class_='form-control', value=misc.relay_stats_cost)}}
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.relayStatsCurrency.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {{formSettingsGeneral.relayStatsCurrency(class_='form-control', value=misc.relay_stats_currency)}}
      </div>
    </div>
    <div class="form-group">
      {{formSettingsGeneral.relayStatsDayOfMonth.label(class_='col-sm-4 control-label checkbox-nopad')}}
      <div class="col-sm-8">
        {{formSettingsGeneral.relayStatsDayOfMonth(class_='form-control', value=misc.relay_stats_dayofmonth)}}
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-4 col-sm-8">
        {{formSettingsGeneral.Submit(class_='btn btn-default')}}
      </div>
    </div>
  </form>

{% endblock %}
